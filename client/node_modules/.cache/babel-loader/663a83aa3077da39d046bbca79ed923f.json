{"ast":null,"code":"import _slicedToArray from \"/mnt/c/Users/Valued Customer/projects/businessTracker/frontend-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/mnt/c/Users/Valued Customer/projects/businessTracker/frontend-tracker-app/src/components/ExternalApi.js\";\nimport React, { useState } from \"react\";\nimport { useAuth0 } from \"../react-auth0-spa\";\n\nconst ExternalApi = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        showResult = _useState2[0],\n        setShowResult = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        apiMessage = _useState4[0],\n        setApiMessage = _useState4[1];\n\n  const _useAuth = useAuth0(),\n        getTokenSilently = _useAuth.getTokenSilently;\n\n  const callApi = async () => {\n    try {\n      const token = await getTokenSilently({\n        audience: process.env.REACT_APP_AUTH_CONFIG_AUDIENCE,\n        scope: 'admin:all',\n        redirect_uri: 'http://localhost:3000/'\n      });\n      console.log(token);\n      const response = await fetch(\"http://localhost:3001/api/external\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const responseData = await response.json();\n      setShowResult(true);\n      setApiMessage(responseData);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"External API\"), React.createElement(\"button\", {\n    onClick: callApi,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Ping API\"), showResult && React.createElement(\"code\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, JSON.stringify(apiMessage, null, 2)));\n};\n\nexport default ExternalApi;","map":{"version":3,"sources":["/mnt/c/Users/Valued Customer/projects/businessTracker/frontend-tracker-app/src/components/ExternalApi.js"],"names":["React","useState","useAuth0","ExternalApi","showResult","setShowResult","apiMessage","setApiMessage","getTokenSilently","callApi","token","audience","process","env","REACT_APP_AUTH_CONFIG_AUDIENCE","scope","redirect_uri","console","log","response","fetch","headers","Authorization","responseData","json","error","JSON","stringify"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,oBAAzB;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA,oBACYF,QAAQ,CAAC,KAAD,CADpB;AAAA;AAAA,QACjBG,UADiB;AAAA,QACLC,aADK;;AAAA,qBAEYJ,QAAQ,CAAC,EAAD,CAFpB;AAAA;AAAA,QAEjBK,UAFiB;AAAA,QAELC,aAFK;;AAAA,mBAGKL,QAAQ,EAHb;AAAA,QAGhBM,gBAHgB,YAGhBA,gBAHgB;;AAKxB,QAAMC,OAAO,GAAG,YAAY;AAC1B,QAAI;AACF,YAAMC,KAAK,GAAG,MAAMF,gBAAgB,CAClC;AACEG,QAAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,8BADxB;AAEEC,QAAAA,KAAK,EAAE,WAFT;AAGEC,QAAAA,YAAY,EAAE;AAHhB,OADkC,CAApC;AAOAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AAEA,YAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAD,EAAuC;AACjEC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASZ,KAAM;AADxB;AADwD,OAAvC,CAA5B;AAKA,YAAMa,YAAY,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAA3B;AAEAnB,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,MAAAA,aAAa,CAACgB,YAAD,CAAb;AACD,KAnBD,CAmBE,OAAOE,KAAP,EAAc;AACdR,MAAAA,OAAO,CAACQ,KAAR,CAAcA,KAAd;AACD;AACF,GAvBD;;AAyBA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAQ,IAAA,OAAO,EAAEhB,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAGGL,UAAU,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOsB,IAAI,CAACC,SAAL,CAAerB,UAAf,EAA2B,IAA3B,EAAiC,CAAjC,CAAP,CAHjB,CADF;AAOD,CArCD;;AAuCA,eAAeH,WAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useAuth0 } from \"../react-auth0-spa\";\n\nconst ExternalApi = () => {\n  const [showResult, setShowResult] = useState(false);\n  const [apiMessage, setApiMessage] = useState(\"\");\n  const { getTokenSilently } = useAuth0();\n\n  const callApi = async () => {\n    try {\n      const token = await getTokenSilently(\n        {\n          audience: process.env.REACT_APP_AUTH_CONFIG_AUDIENCE,\n          scope: 'admin:all',\n          redirect_uri: 'http://localhost:3000/'\n        }\n        );\n      console.log(token);\n\n      const response = await fetch(\"http://localhost:3001/api/external\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const responseData = await response.json();\n\n      setShowResult(true);\n      setApiMessage(responseData);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <>\n      <h1>External API</h1>\n      <button onClick={callApi}>Ping API</button>\n      {showResult && <code>{JSON.stringify(apiMessage, null, 2)}</code>}\n    </>\n  );\n};\n\nexport default ExternalApi;"]},"metadata":{},"sourceType":"module"}